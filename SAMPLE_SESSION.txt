Sample Session
==============

pip install -r requirements.txt
# ...

deeplook:scrapfu deeplook$ ll
total 152
-rw-r--r--  1 deeplook  staff  7651 Oct  7 12:28 LICENSE
-rw-r--r--  1 deeplook  staff    45 Oct  7 12:48 README.rst
-rw-r--r--  1 deeplook  staff  1023 Oct  7 12:45 clutter.py
-rw-r--r--  1 deeplook  staff  1301 Oct 10 12:54 hma_bs4.py
-rw-r--r--  1 deeplook  staff  1210 Oct 10 12:54 hma_scrapy.py
-rw-r--r--  1 deeplook  staff  1575 Oct 10 12:49 persist.py
-rw-r--r--  1 deeplook  staff    42 Oct 10 12:55 requirements.txt
-rw-r--r--  1 deeplook  staff  1387 Oct  7 14:02 test.py
-rw-r--r--  1 deeplook  staff  1050 Oct  7 13:59 unclutter.py

deeplook:scrapfu deeplook$ python hma_bs4.py
 0 123.56.74.13     8080
 1 14.29.124.51       80
 2 110.155.187.136  1080
 3 51.254.106.73      80
 4 59.33.46.187     6969
 5 178.166.41.225     80
 6 111.23.4.138     8080
 7 92.62.28.140       80
 8 123.30.238.16    3128
 9 187.60.40.113    8080
10 86.100.118.44      81
11 61.143.225.57    1080
12 113.253.13.205     80
13 111.23.4.138       80
14 101.200.169.110    80
15 202.112.50.224   8080
16 31.146.182.122    443
17 37.11.246.154    8080
18 45.32.179.253      80
19 120.28.45.202    8090
20 101.26.38.162      80
21 218.191.25.9       80
22 124.244.157.209    80
23 202.105.21.240   9999
24 95.158.139.48    8080
25 45.55.40.91        80
26 208.40.165.200     80
27 51.254.133.199   8118
28 223.16.231.135   8080
29 212.47.229.71    9001
30 36.250.159.213   8000
31 178.62.123.240   8118
32 202.112.50.224   1080
33 115.127.32.170   8080
34 124.88.67.54      843
35 195.226.178.150    80
36 137.135.166.225  8140
37 202.80.222.116   1080
38 213.111.123.68   8080
39 115.28.101.22    3128
40 188.113.138.238  3128
41 182.48.113.11    8088
42 212.47.229.71    9004
43 41.231.120.118   8888
44 101.200.143.168    80
45 39.184.165.170   8888
46 51.254.106.71      80
47 186.103.169.163  8080
48 63.134.177.213  45554
49 177.128.210.10   8080

deeplook:scrapfu deeplook$ # new files created:
total 152
-rw-r--r--  1 deeplook  staff  8192 Oct 10 12:56 hma1.db
-rw-r--r--  1 deeplook  staff  8192 Oct 10 12:56 hma2.db

deeplook:scrapfu deeplook$ sqlite3 hma1.db
SQLite version 3.13.0 2016-05-18 10:57:30
Enter ".help" for usage hints.
sqlite> .dump proxies
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE proxies (
                id INTEGER PRIMARY KEY,
                ip TEXT,
                port INT
            );
INSERT INTO "proxies" VALUES(1,'123.56.74.13',8080);
INSERT INTO "proxies" VALUES(2,'14.29.124.51',80);
INSERT INTO "proxies" VALUES(3,'110.155.187.136',1080);
INSERT INTO "proxies" VALUES(4,'51.254.106.73',80);
INSERT INTO "proxies" VALUES(5,'59.33.46.187',6969);
INSERT INTO "proxies" VALUES(6,'178.166.41.225',80);
INSERT INTO "proxies" VALUES(7,'111.23.4.138',8080);
INSERT INTO "proxies" VALUES(8,'92.62.28.140',80);
INSERT INTO "proxies" VALUES(9,'123.30.238.16',3128);
INSERT INTO "proxies" VALUES(10,'187.60.40.113',8080);
INSERT INTO "proxies" VALUES(11,'86.100.118.44',81);
INSERT INTO "proxies" VALUES(12,'61.143.225.57',1080);
INSERT INTO "proxies" VALUES(13,'113.253.13.205',80);
INSERT INTO "proxies" VALUES(14,'111.23.4.138',80);
INSERT INTO "proxies" VALUES(15,'101.200.169.110',80);
INSERT INTO "proxies" VALUES(16,'202.112.50.224',8080);
INSERT INTO "proxies" VALUES(17,'31.146.182.122',443);
INSERT INTO "proxies" VALUES(18,'37.11.246.154',8080);
INSERT INTO "proxies" VALUES(19,'45.32.179.253',80);
INSERT INTO "proxies" VALUES(20,'120.28.45.202',8090);
INSERT INTO "proxies" VALUES(21,'101.26.38.162',80);
INSERT INTO "proxies" VALUES(22,'218.191.25.9',80);
INSERT INTO "proxies" VALUES(23,'124.244.157.209',80);
INSERT INTO "proxies" VALUES(24,'202.105.21.240',9999);
INSERT INTO "proxies" VALUES(25,'95.158.139.48',8080);
INSERT INTO "proxies" VALUES(26,'45.55.40.91',80);
INSERT INTO "proxies" VALUES(27,'208.40.165.200',80);
INSERT INTO "proxies" VALUES(28,'51.254.133.199',8118);
INSERT INTO "proxies" VALUES(29,'223.16.231.135',8080);
INSERT INTO "proxies" VALUES(30,'212.47.229.71',9001);
INSERT INTO "proxies" VALUES(31,'36.250.159.213',8000);
INSERT INTO "proxies" VALUES(32,'178.62.123.240',8118);
INSERT INTO "proxies" VALUES(33,'202.112.50.224',1080);
INSERT INTO "proxies" VALUES(34,'115.127.32.170',8080);
INSERT INTO "proxies" VALUES(35,'124.88.67.54',843);
INSERT INTO "proxies" VALUES(36,'195.226.178.150',80);
INSERT INTO "proxies" VALUES(37,'137.135.166.225',8140);
INSERT INTO "proxies" VALUES(38,'202.80.222.116',1080);
INSERT INTO "proxies" VALUES(39,'213.111.123.68',8080);
INSERT INTO "proxies" VALUES(40,'115.28.101.22',3128);
INSERT INTO "proxies" VALUES(41,'188.113.138.238',3128);
INSERT INTO "proxies" VALUES(42,'182.48.113.11',8088);
INSERT INTO "proxies" VALUES(43,'212.47.229.71',9004);
INSERT INTO "proxies" VALUES(44,'41.231.120.118',8888);
INSERT INTO "proxies" VALUES(45,'101.200.143.168',80);
INSERT INTO "proxies" VALUES(46,'39.184.165.170',8888);
INSERT INTO "proxies" VALUES(47,'51.254.106.71',80);
INSERT INTO "proxies" VALUES(48,'186.103.169.163',8080);
INSERT INTO "proxies" VALUES(49,'63.134.177.213',45554);
INSERT INTO "proxies" VALUES(50,'177.128.210.10',8080);
COMMIT;
sqlite> ^D

deeplook:scrapfu deeplook$ sqlite3 hma2.db
SQLite version 3.13.0 2016-05-18 10:57:30
Enter ".help" for usage hints.
sqlite> .dump proxies
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE proxies (
    id INTEGER NOT NULL,
    ip VARCHAR(40),
    port INTEGER,
    PRIMARY KEY (id)
);
INSERT INTO "proxies" VALUES(1,'123.56.74.13',8080);
INSERT INTO "proxies" VALUES(2,'14.29.124.51',80);
INSERT INTO "proxies" VALUES(3,'110.155.187.136',1080);
INSERT INTO "proxies" VALUES(4,'51.254.106.73',80);
INSERT INTO "proxies" VALUES(5,'59.33.46.187',6969);
INSERT INTO "proxies" VALUES(6,'178.166.41.225',80);
INSERT INTO "proxies" VALUES(7,'111.23.4.138',8080);
INSERT INTO "proxies" VALUES(8,'92.62.28.140',80);
INSERT INTO "proxies" VALUES(9,'123.30.238.16',3128);
INSERT INTO "proxies" VALUES(10,'187.60.40.113',8080);
INSERT INTO "proxies" VALUES(11,'86.100.118.44',81);
INSERT INTO "proxies" VALUES(12,'61.143.225.57',1080);
INSERT INTO "proxies" VALUES(13,'113.253.13.205',80);
INSERT INTO "proxies" VALUES(14,'111.23.4.138',80);
INSERT INTO "proxies" VALUES(15,'101.200.169.110',80);
INSERT INTO "proxies" VALUES(16,'202.112.50.224',8080);
INSERT INTO "proxies" VALUES(17,'31.146.182.122',443);
INSERT INTO "proxies" VALUES(18,'37.11.246.154',8080);
INSERT INTO "proxies" VALUES(19,'45.32.179.253',80);
INSERT INTO "proxies" VALUES(20,'120.28.45.202',8090);
INSERT INTO "proxies" VALUES(21,'101.26.38.162',80);
INSERT INTO "proxies" VALUES(22,'218.191.25.9',80);
INSERT INTO "proxies" VALUES(23,'124.244.157.209',80);
INSERT INTO "proxies" VALUES(24,'202.105.21.240',9999);
INSERT INTO "proxies" VALUES(25,'95.158.139.48',8080);
INSERT INTO "proxies" VALUES(26,'45.55.40.91',80);
INSERT INTO "proxies" VALUES(27,'208.40.165.200',80);
INSERT INTO "proxies" VALUES(28,'51.254.133.199',8118);
INSERT INTO "proxies" VALUES(29,'223.16.231.135',8080);
INSERT INTO "proxies" VALUES(30,'212.47.229.71',9001);
INSERT INTO "proxies" VALUES(31,'36.250.159.213',8000);
INSERT INTO "proxies" VALUES(32,'178.62.123.240',8118);
INSERT INTO "proxies" VALUES(33,'202.112.50.224',1080);
INSERT INTO "proxies" VALUES(34,'115.127.32.170',8080);
INSERT INTO "proxies" VALUES(35,'124.88.67.54',843);
INSERT INTO "proxies" VALUES(36,'195.226.178.150',80);
INSERT INTO "proxies" VALUES(37,'137.135.166.225',8140);
INSERT INTO "proxies" VALUES(38,'202.80.222.116',1080);
INSERT INTO "proxies" VALUES(39,'213.111.123.68',8080);
INSERT INTO "proxies" VALUES(40,'115.28.101.22',3128);
INSERT INTO "proxies" VALUES(41,'188.113.138.238',3128);
INSERT INTO "proxies" VALUES(42,'182.48.113.11',8088);
INSERT INTO "proxies" VALUES(43,'212.47.229.71',9004);
INSERT INTO "proxies" VALUES(44,'41.231.120.118',8888);
INSERT INTO "proxies" VALUES(45,'101.200.143.168',80);
INSERT INTO "proxies" VALUES(46,'39.184.165.170',8888);
INSERT INTO "proxies" VALUES(47,'51.254.106.71',80);
INSERT INTO "proxies" VALUES(48,'186.103.169.163',8080);
INSERT INTO "proxies" VALUES(49,'63.134.177.213',45554);
INSERT INTO "proxies" VALUES(50,'177.128.210.10',8080);
COMMIT;
sqlite> ^D

deeplook:scrapfu deeplook$ rm hma1.db hma2.db

deeplook:scrapfu deeplook$ scrapy runspider -o out.json --nolog hma_scrapy.py

deeplook:scrapfu deeplook$ # new files created:
total 152
-rw-r--r--  1 deeplook  staff  8192 Oct 10 13:02 hma1.db
-rw-r--r--  1 deeplook  staff  8192 Oct 10 13:02 hma2.db
-rw-r--r--  1 deeplook  staff  1936 Oct 10 13:02 out.json

deeplook:scrapfu deeplook$ more out.json
[
{"ip": "121.183.4.54", "port": 51325},
{"ip": "219.255.197.90", "port": 3128},
{"ip": "184.173.139.10", "port": 80},
{"ip": "123.56.74.13", "port": 8080},
{"ip": "14.29.124.51", "port": 80},
{"ip": "110.155.187.136", "port": 1080},
{"ip": "51.254.106.73", "port": 80},
{"ip": "59.33.46.187", "port": 6969},
{"ip": "178.166.41.225", "port": 80},
{"ip": "111.23.4.138", "port": 8080},
{"ip": "92.62.28.140", "port": 80},
{"ip": "123.30.238.16", "port": 3128},
{"ip": "187.60.40.113", "port": 8080},
{"ip": "86.100.118.44", "port": 81},
{"ip": "61.143.225.57", "port": 1080},
{"ip": "113.253.13.205", "port": 80},
{"ip": "111.23.4.138", "port": 80},
{"ip": "101.200.169.110", "port": 80},
{"ip": "202.112.50.224", "port": 8080},
{"ip": "31.146.182.122", "port": 443},
{"ip": "37.11.246.154", "port": 8080},
{"ip": "45.32.179.253", "port": 80},
{"ip": "120.28.45.202", "port": 8090},
{"ip": "101.26.38.162", "port": 80},
{"ip": "218.191.25.9", "port": 80},
{"ip": "124.244.157.209", "port": 80},
{"ip": "202.105.21.240", "port": 9999},
{"ip": "95.158.139.48", "port": 8080},
{"ip": "45.55.40.91", "port": 80},
{"ip": "208.40.165.200", "port": 80},
{"ip": "51.254.133.199", "port": 8118},
{"ip": "223.16.231.135", "port": 8080},
{"ip": "212.47.229.71", "port": 9001},
{"ip": "36.250.159.213", "port": 8000},
{"ip": "178.62.123.240", "port": 8118},
{"ip": "202.112.50.224", "port": 1080},
{"ip": "115.127.32.170", "port": 8080},
{"ip": "124.88.67.54", "port": 843},
{"ip": "195.226.178.150", "port": 80},
{"ip": "137.135.166.225", "port": 8140},
{"ip": "202.80.222.116", "port": 1080},
{"ip": "213.111.123.68", "port": 8080},
{"ip": "115.28.101.22", "port": 3128},
{"ip": "188.113.138.238", "port": 3128},
{"ip": "182.48.113.11", "port": 8088},
{"ip": "212.47.229.71", "port": 9004},
{"ip": "41.231.120.118", "port": 8888},
{"ip": "101.200.143.168", "port": 80},
{"ip": "39.184.165.170", "port": 8888},
{"ip": "51.254.106.71", "port": 80}
]

deeplook:scrapfu deeplook$ sqlite3 hma1.db
SQLite version 3.13.0 2016-05-18 10:57:30
Enter ".help" for usage hints.
sqlite> .dump proxies
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE proxies (
                id INTEGER PRIMARY KEY,
                ip TEXT,
                port INT
            );
INSERT INTO "proxies" VALUES(1,'121.183.4.54',51325);
INSERT INTO "proxies" VALUES(2,'219.255.197.90',3128);
INSERT INTO "proxies" VALUES(3,'184.173.139.10',80);
INSERT INTO "proxies" VALUES(4,'123.56.74.13',8080);
INSERT INTO "proxies" VALUES(5,'14.29.124.51',80);
INSERT INTO "proxies" VALUES(6,'110.155.187.136',1080);
INSERT INTO "proxies" VALUES(7,'51.254.106.73',80);
INSERT INTO "proxies" VALUES(8,'59.33.46.187',6969);
INSERT INTO "proxies" VALUES(9,'178.166.41.225',80);
INSERT INTO "proxies" VALUES(10,'111.23.4.138',8080);
INSERT INTO "proxies" VALUES(11,'92.62.28.140',80);
INSERT INTO "proxies" VALUES(12,'123.30.238.16',3128);
INSERT INTO "proxies" VALUES(13,'187.60.40.113',8080);
INSERT INTO "proxies" VALUES(14,'86.100.118.44',81);
INSERT INTO "proxies" VALUES(15,'61.143.225.57',1080);
INSERT INTO "proxies" VALUES(16,'113.253.13.205',80);
INSERT INTO "proxies" VALUES(17,'111.23.4.138',80);
INSERT INTO "proxies" VALUES(18,'101.200.169.110',80);
INSERT INTO "proxies" VALUES(19,'202.112.50.224',8080);
INSERT INTO "proxies" VALUES(20,'31.146.182.122',443);
INSERT INTO "proxies" VALUES(21,'37.11.246.154',8080);
INSERT INTO "proxies" VALUES(22,'45.32.179.253',80);
INSERT INTO "proxies" VALUES(23,'120.28.45.202',8090);
INSERT INTO "proxies" VALUES(24,'101.26.38.162',80);
INSERT INTO "proxies" VALUES(25,'218.191.25.9',80);
INSERT INTO "proxies" VALUES(26,'124.244.157.209',80);
INSERT INTO "proxies" VALUES(27,'202.105.21.240',9999);
INSERT INTO "proxies" VALUES(28,'95.158.139.48',8080);
INSERT INTO "proxies" VALUES(29,'45.55.40.91',80);
INSERT INTO "proxies" VALUES(30,'208.40.165.200',80);
INSERT INTO "proxies" VALUES(31,'51.254.133.199',8118);
INSERT INTO "proxies" VALUES(32,'223.16.231.135',8080);
INSERT INTO "proxies" VALUES(33,'212.47.229.71',9001);
INSERT INTO "proxies" VALUES(34,'36.250.159.213',8000);
INSERT INTO "proxies" VALUES(35,'178.62.123.240',8118);
INSERT INTO "proxies" VALUES(36,'202.112.50.224',1080);
INSERT INTO "proxies" VALUES(37,'115.127.32.170',8080);
INSERT INTO "proxies" VALUES(38,'124.88.67.54',843);
INSERT INTO "proxies" VALUES(39,'195.226.178.150',80);
INSERT INTO "proxies" VALUES(40,'137.135.166.225',8140);
INSERT INTO "proxies" VALUES(41,'202.80.222.116',1080);
INSERT INTO "proxies" VALUES(42,'213.111.123.68',8080);
INSERT INTO "proxies" VALUES(43,'115.28.101.22',3128);
INSERT INTO "proxies" VALUES(44,'188.113.138.238',3128);
INSERT INTO "proxies" VALUES(45,'182.48.113.11',8088);
INSERT INTO "proxies" VALUES(46,'212.47.229.71',9004);
INSERT INTO "proxies" VALUES(47,'41.231.120.118',8888);
INSERT INTO "proxies" VALUES(48,'101.200.143.168',80);
INSERT INTO "proxies" VALUES(49,'39.184.165.170',8888);
INSERT INTO "proxies" VALUES(50,'51.254.106.71',80);
COMMIT;
sqlite> ^D

deeplook:scrapfu deeplook$ sqlite3 hma2.db
SQLite version 3.13.0 2016-05-18 10:57:30
Enter ".help" for usage hints.
sqlite> .dump proxies
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE proxies (
    id INTEGER NOT NULL,
    ip VARCHAR(40),
    port INTEGER,
    PRIMARY KEY (id)
);
INSERT INTO "proxies" VALUES(1,'121.183.4.54',51325);
INSERT INTO "proxies" VALUES(2,'219.255.197.90',3128);
INSERT INTO "proxies" VALUES(3,'184.173.139.10',80);
INSERT INTO "proxies" VALUES(4,'123.56.74.13',8080);
INSERT INTO "proxies" VALUES(5,'14.29.124.51',80);
INSERT INTO "proxies" VALUES(6,'110.155.187.136',1080);
INSERT INTO "proxies" VALUES(7,'51.254.106.73',80);
INSERT INTO "proxies" VALUES(8,'59.33.46.187',6969);
INSERT INTO "proxies" VALUES(9,'178.166.41.225',80);
INSERT INTO "proxies" VALUES(10,'111.23.4.138',8080);
INSERT INTO "proxies" VALUES(11,'92.62.28.140',80);
INSERT INTO "proxies" VALUES(12,'123.30.238.16',3128);
INSERT INTO "proxies" VALUES(13,'187.60.40.113',8080);
INSERT INTO "proxies" VALUES(14,'86.100.118.44',81);
INSERT INTO "proxies" VALUES(15,'61.143.225.57',1080);
INSERT INTO "proxies" VALUES(16,'113.253.13.205',80);
INSERT INTO "proxies" VALUES(17,'111.23.4.138',80);
INSERT INTO "proxies" VALUES(18,'101.200.169.110',80);
INSERT INTO "proxies" VALUES(19,'202.112.50.224',8080);
INSERT INTO "proxies" VALUES(20,'31.146.182.122',443);
INSERT INTO "proxies" VALUES(21,'37.11.246.154',8080);
INSERT INTO "proxies" VALUES(22,'45.32.179.253',80);
INSERT INTO "proxies" VALUES(23,'120.28.45.202',8090);
INSERT INTO "proxies" VALUES(24,'101.26.38.162',80);
INSERT INTO "proxies" VALUES(25,'218.191.25.9',80);
INSERT INTO "proxies" VALUES(26,'124.244.157.209',80);
INSERT INTO "proxies" VALUES(27,'202.105.21.240',9999);
INSERT INTO "proxies" VALUES(28,'95.158.139.48',8080);
INSERT INTO "proxies" VALUES(29,'45.55.40.91',80);
INSERT INTO "proxies" VALUES(30,'208.40.165.200',80);
INSERT INTO "proxies" VALUES(31,'51.254.133.199',8118);
INSERT INTO "proxies" VALUES(32,'223.16.231.135',8080);
INSERT INTO "proxies" VALUES(33,'212.47.229.71',9001);
INSERT INTO "proxies" VALUES(34,'36.250.159.213',8000);
INSERT INTO "proxies" VALUES(35,'178.62.123.240',8118);
INSERT INTO "proxies" VALUES(36,'202.112.50.224',1080);
INSERT INTO "proxies" VALUES(37,'115.127.32.170',8080);
INSERT INTO "proxies" VALUES(38,'124.88.67.54',843);
INSERT INTO "proxies" VALUES(39,'195.226.178.150',80);
INSERT INTO "proxies" VALUES(40,'137.135.166.225',8140);
INSERT INTO "proxies" VALUES(41,'202.80.222.116',1080);
INSERT INTO "proxies" VALUES(42,'213.111.123.68',8080);
INSERT INTO "proxies" VALUES(43,'115.28.101.22',3128);
INSERT INTO "proxies" VALUES(44,'188.113.138.238',3128);
INSERT INTO "proxies" VALUES(45,'182.48.113.11',8088);
INSERT INTO "proxies" VALUES(46,'212.47.229.71',9004);
INSERT INTO "proxies" VALUES(47,'41.231.120.118',8888);
INSERT INTO "proxies" VALUES(48,'101.200.143.168',80);
INSERT INTO "proxies" VALUES(49,'39.184.165.170',8888);
INSERT INTO "proxies" VALUES(50,'51.254.106.71',80);
COMMIT;
sqlite> ^D
